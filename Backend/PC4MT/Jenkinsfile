pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                bat 'msbuild D:\\glossloader\\WebAppFile\\GlossLoaderWebApp\\Gloss Loader\\Backend\\PC4MT\\MSTest Test Project\\MSTest Test Project.csproj /t:Rebuild /p:Configuration=Debug'
            }
        }
        stage('Test') {
            steps {
                bat 'mstest /testcontainer:D:/glossloader/WebAppFile/GlossLoaderWebApp/Gloss Loader/Backend/PC4MT/MSTest Test Project/bin/Debug/MSTest Test Project.dll'
            }
        }
        stage('Publish') {
            steps {
                //publish the build artifacts, in this case the compiled and tested files from the app
                step([$class: 'ArtifactArchiver', artifacts: '**/bin/Debug/*', fingerprint: true])
                //deploy the app to a remote server by using plugin or whatever you use to deploy it
                bat 'deployment command'
            }
        }
    }
}
